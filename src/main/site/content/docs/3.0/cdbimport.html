---
#  Licensed to the Apache Software Foundation (ASF) under one
#  or more contributor license agreements.  See the NOTICE file
#  distributed with this work for additional information
#  regarding copyright ownership.  The ASF licenses this file
#  to you under the Apache License, Version 2.0 (the
#  "License"); you may not use this file except in compliance
#  with the License.  You may obtain a copy of the License at
#
#    http://www.apache.org/licenses/LICENSE-2.0
#
#  Unless required by applicable law or agreed to in writing,
#  software distributed under the License is distributed on an
#  "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
#  KIND, either express or implied.  See the License for the
#  specific language governing permissions and limitations
#  under the License.

title: cdbimport
url: /docs/3.0/cdbimport.html
layout: docs_legacy
---

	<P><TT>cdbimport</TT> is an Ant task that that uses Cayenne to generate a DataMap based on an existing database schema.  This allows you to generate your DataMap prior to building your project, which may be necessary if you are also using the <A href="cgen.html" title="cgen">cgen</A> task.</P>

<H3><A name="cdbimport-Parameters"></A>Parameters</H3>

<DIV class="table-wrap">
<TABLE class="confluenceTable"><TBODY>
<TR>
<TH class="confluenceTh"> Attribute </TH>
<TH class="confluenceTh"> Description </TH>
<TH class="confluenceTh"> Required </TH>
</TR>
<TR>
<TD class="confluenceTd"> map </TD>
<TD class="confluenceTd"> DataMap XML file to use as a schema descriptor. </TD>
<TD class="confluenceTd"> Yes </TD>
</TR>
<TR>
<TD class="confluenceTd"> overwriteExisting </TD>
<TD class="confluenceTd"> Indicates whether existing DB and object entities should be overwritten.  This is an all-or-nothing setting.  If you need finer granularity, please  use the Cayenne Modeler.  Default is <TT>true</TT>. </TD>
<TD class="confluenceTd"> No </TD>
</TR>
<TR>
<TD class="confluenceTd"> schemaName </TD>
<TD class="confluenceTd"> Database schema to use for importing. </TD>
<TD class="confluenceTd"> No </TD>
</TR>
<TR>
<TD class="confluenceTd"> tablePattern </TD>
<TD class="confluenceTd"> Pattern to match tables against for import.  Default is to match all tables. </TD>
<TD class="confluenceTd"> No </TD>
</TR>
<TR>
<TD class="confluenceTd"> importProcedures </TD>
<TD class="confluenceTd"> Indicates whether stored procedures should be imported.  Default is <TT>false</TT>. </TD>
<TD class="confluenceTd"> No </TD>
</TR>
<TR>
<TD class="confluenceTd"> procedurePattern </TD>
<TD class="confluenceTd"> Pattern to match stored procedures against for import.  Default is to match all stored procedures.  This value is only meaningful if <TT>importProcedures</TT> is <TT>true</TT>. </TD>
<TD class="confluenceTd"> No </TD>
</TR>
<TR>
<TD class="confluenceTd"> meaningfulPk </TD>
<TD class="confluenceTd"> Indicates whether primary keys should be mapped as attributes of the object entity.  Default is <TT>false</TT>. </TD>
<TD class="confluenceTd"> No </TD>
</TR>
<TR>
<TD class="confluenceTd"> namingStrategy </TD>
<TD class="confluenceTd"> The naming strategy used for mapping database names to object entity names.  Default is <TT>org.apache.cayenne.map.naming.SmartNamingStrategy</TT>. </TD>
<TD class="confluenceTd"> No </TD>
</TR>
<TR>
<TD class="confluenceTd"> adapter </TD>
<TD class="confluenceTd"> Java class name implementing org.apache.cayenne.dba.DbAdapter. While this attribute is optional (a generic JdbcAdapter is used if not set), it is highly recommended to specify correct target adapter. </TD>
<TD class="confluenceTd"> No (but strongly recommended) </TD>
</TR>
<TR>
<TD class="confluenceTd"> driver </TD>
<TD class="confluenceTd"> A class of JDBC driver to use for the target database. </TD>
<TD class="confluenceTd"> Yes </TD>
</TR>
<TR>
<TD class="confluenceTd"> url </TD>
<TD class="confluenceTd"> JDBC connection URL of a target database. </TD>
<TD class="confluenceTd"> Yes </TD>
</TR>
<TR>
<TD class="confluenceTd"> username </TD>
<TD class="confluenceTd"> Database user name. </TD>
<TD class="confluenceTd"> No </TD>
</TR>
<TR>
<TD class="confluenceTd"> password </TD>
<TD class="confluenceTd"> Database user password. </TD>
<TD class="confluenceTd"> No </TD>
</TR>
</TBODY></TABLE>
</DIV>



<H3><A name="cdbimport-Example"></A>Example</H3>

<P>Here is an example of using <TT>cdbimport</TT> to create DB schema objects on a local HSQLDB.</P>

<DIV class="code panel" style="border-width: 1px;"><DIV class="codeContent panelContent">
<PRE class="code-xml">&lt;cdbimport map=<SPAN class="code-quote">&quot;${context.dir}/WEB-INF/DefaultMap.map.xml&quot;</SPAN> 
    adapter=<SPAN class="code-quote">&quot;org.apache.cayenne.dba.hsqldb.HSQLDBAdapter&quot;</SPAN>
    driver=<SPAN class="code-quote">&quot;org.hsqldb.jdbcDriver&quot;</SPAN> 
    url=<SPAN class="code-quote">&quot;jdbc:hsqldb:hsql://localhost/bookmarker&quot;</SPAN> 
    username=<SPAN class="code-quote">&quot;sa&quot;</SPAN>/&gt;
</PRE>
</DIV></DIV>
