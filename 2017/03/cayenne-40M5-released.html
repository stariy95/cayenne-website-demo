<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="shortcut icon" href="/favicon.ico" />
        <link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-144-precomposed.png" sizes="144x144" />
        <link rel="stylesheet" href="http://cayenne.apache.org/css/styles-b770de6275.css"/>
        <script src="http://cayenne.apache.org/js/bundle-736b99fdc1.js"></script>
        <title>Cayenne 4.0 Milestone 5 Released &middot; Apache Cayenne</title>
    </head>
    <body>
<header class="page-header">
    <div class="container">
        <div class="row">
            <div class="col">
                <nav class="navbar navbar-dark navbar-expand-lg">
                    <a class="navbar-brand nav-link active" href="http://cayenne.apache.org/">Apache Cayenne</a>

                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>

                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav mr-auto">
                            
                            <li class="nav-item">
                                <a class="nav-link" href="/download/">DOWNLOAD</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="/docs/">DOCUMENTATION</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="/about/support/">SUPPORT</a>
                            </li>
                            
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
    </div>
</header>




    <div class="container">
        <div class="row">
            <div class="col">
                <article>
                    <header>
                        <h1>Cayenne 4.0 Milestone 5 Released</h1>
                        <small class="text-muted">Mar 07, 2017</small>
                    </header>
                    <section>
                        

<p>Apache Cayenne team is glad to announce the latest milestone of Cayenne - 4.0.M5.
The new release features a number of important things:</p>

<ul>
<li>New fluent API for SQL functions (including long-awaited <strong>aggregate</strong> functions).</li>
<li>Auto-loading of additional Cayenne modules.</li>
<li>New JCache module that allows to easily include any compatible cache provider.</li>
<li>Further improvements and stabilization of database reverse-engineering tools.</li>
<li>Fixes bugs, updates docs, etc.</li>
</ul>

<p>Cayenne can be downloaded from <a href="/download.html">here</a>. Make sure to consult <a href="https://github.com/apache/cayenne/blob/4.0.M5/docs/doc/src/main/resources/UPGRADE.txt">UPGRADE.txt</a> file before updating.</p>

<p>Before we start discussing individual features, a few words on the future development effort.
Cayenne 4.0 is quickly approaching &ldquo;beta&rdquo; status. There&rsquo;s a good chance that the following release will be
feature-complete and we will enter &ldquo;beta&rdquo; and associated code freeze of the runtime framework.</p>

<p>Now the new things in a bit more detail:</p>

<h3 id="fluent-query-api">Fluent query API</h3>

<p>These great additions to Fluent API are new in M5:</p>

<p><em>ColumnSelect</em></p>

<pre><code>List&lt;String&gt; names = ObjectSelect.query(Artist.class)
                     .column(Artist.ARTIST_NAME).select(context);
</code></pre>

<p><em>Aggregate Functions</em></p>

<pre><code>// easy way to select count
long count = ObjectSelect.query(Artist.class).selectCount(context);
</code></pre>

<p><em>GROUP BY .. HAVING</em></p>

<pre><code>Property&lt;Double&gt; minPrice = Artist.PAINTING_ARRAY.dot(Painting.ESTIMATED_PRICE).min();

// Object[0] is a name (String)
// Object[1] is a price (Double)
// GROUP BY clause is generated automatically based on the query semantics
List&lt;Object[]&gt; nameAndMinPrice = ObjectSelect.query(Artist.class)
                    .columns(Artist.ARTIST_NAME, minPrice)
                    .having(minPrice.gt(2000.0))
                    .select(context);
</code></pre>

<p><em>SQL Functions</em></p>

<pre><code>Property&lt;Integer&gt; nameLength = Artist.ARTIST_NAME.length();
List&lt;Artist&gt; artists = ObjectSelect.query(Artist.class, nameLength.gt(5))
                        .select(context);
</code></pre>

<h3 id="reverse-engineering-improvements">Reverse Engineering Improvements</h3>

<p>We pushed DB reverse engineering functionality further. This time in addition to clearing bugs and perform smoother importing
we changed cdbimport plugin configuration to make it clearer and ready for future improvements we have in mind.</p>

<p>The plugin itself has changed it&rsquo;s name to <em>&ldquo;cayenne-maven-plugin&rdquo;</em>, so now you can use short commands like the following:</p>

<pre><code>mvn cayenne:cdbimport
</code></pre>

<p><strong><em>Important note</em></strong>: please refer to <a href="https://github.com/apache/cayenne/blob/4.0.M5/docs/doc/src/main/resources/UPGRADE.txt">UPGRADE.txt</a> for detailed changes in <em>cdbimport</em> configuration.</p>

<h3 id="a-full-list-of-changes-in-this-release">A full list of changes in this release:</h3>

<ul>
<li><a href="https://issues.apache.org/jira/browse/CAY-2139">CAY-2139</a> Upgrade HSQLDB dependency to the most recent version (2.3.4)</li>
<li><a href="https://issues.apache.org/jira/browse/CAY-2150">CAY-2150</a> Refactoring: ParameterBinding to contain ExtendedType property</li>
<li><a href="https://issues.apache.org/jira/browse/CAY-2163">CAY-2163</a> Property.path() , ExpressionFactory.pathExp()</li>
<li><a href="https://issues.apache.org/jira/browse/CAY-2164">CAY-2164</a> Relocate builder bootstrap methods from ServerRuntimeBuilder to ServerRuntime</li>
<li><a href="https://issues.apache.org/jira/browse/CAY-2165">CAY-2165</a> Explicit &ldquo;contribution&rdquo; API for easier expansion of DI collections and maps</li>
<li><a href="https://issues.apache.org/jira/browse/CAY-2166">CAY-2166</a> Auto-loading of Cayenne modules</li>
<li><a href="https://issues.apache.org/jira/browse/CAY-2168">CAY-2168</a> Split DbLoader to parts and clean it up</li>
<li><a href="https://issues.apache.org/jira/browse/CAY-2169">CAY-2169</a> Split DbMerger to parts and clean it up</li>
<li><a href="https://issues.apache.org/jira/browse/CAY-2170">CAY-2170</a> MergeToken sorting is highly unstable</li>
<li><a href="https://issues.apache.org/jira/browse/CAY-2172">CAY-2172</a> Cleanup Modeler import and migrate db actions</li>
<li><a href="https://issues.apache.org/jira/browse/CAY-2176">CAY-2176</a> Java 7 diamond class generation templates</li>
<li><a href="https://issues.apache.org/jira/browse/CAY-2177">CAY-2177</a> Sync auto generated state of PK between model and DB</li>
<li><a href="https://issues.apache.org/jira/browse/CAY-2187">CAY-2187</a> Support for the scalar and aggregate SQL functions in ObjectSelect API</li>
<li><a href="https://issues.apache.org/jira/browse/CAY-2197">CAY-2197</a> Update sqlite version and enable in-memory default config</li>
<li><a href="https://issues.apache.org/jira/browse/CAY-2212">CAY-2212</a> cdbimport cleanup and configuration schema refactoring</li>
<li><a href="https://issues.apache.org/jira/browse/CAY-2223">CAY-2223</a> JCacheQueryCache - a query cache provider to plug in JCache implementers</li>
<li><a href="https://issues.apache.org/jira/browse/CAY-2225">CAY-2225</a> Extensible CacheInvalidationFilter logic</li>
<li><a href="https://issues.apache.org/jira/browse/CAY-2228">CAY-2228</a> Deprecate multiple cache groups in caching and query API</li>
<li><a href="https://issues.apache.org/jira/browse/CAY-2231">CAY-2231</a> Support for collections in new functional expressions and old math expressions</li>
<li><a href="https://issues.apache.org/jira/browse/CAY-2232">CAY-2232</a> Proper conversion to String for new functional expressions</li>
<li><a href="https://issues.apache.org/jira/browse/CAY-2235">CAY-2235</a> Deprecate Query.getDataMap() method</li>
</ul>

<h3 id="bug-fixes">Bug Fixes:</h3>

<ul>
<li><a href="https://issues.apache.org/jira/browse/CAY-2032">CAY-2032</a> SelectAction: DistinctResultIterator ignores flattened relationships</li>
<li><a href="https://issues.apache.org/jira/browse/CAY-2137">CAY-2137</a> When generating SQL from EJBQL, use &ldquo;AND&rdquo; to separate multiple join conditions</li>
<li><a href="https://issues.apache.org/jira/browse/CAY-2174">CAY-2174</a> Change FK attribute name cause ObjAttribute appear after Reverse Engineering</li>
<li><a href="https://issues.apache.org/jira/browse/CAY-2175">CAY-2175</a> AliasName used in EJBQLQuery is not working if it contains mixed case</li>
<li><a href="https://issues.apache.org/jira/browse/CAY-2183">CAY-2183</a> Newly created DbRelationship is unexpectedly renamed by the Modeler</li>
<li><a href="https://issues.apache.org/jira/browse/CAY-2199">CAY-2199</a> Modeler on Windows: The same project is displayed twice in &ldquo;Recent Projects&rdquo;</li>
<li><a href="https://issues.apache.org/jira/browse/CAY-2207">CAY-2207</a> Modeler: &ldquo;Java Type&rdquo; and &ldquo;DbAttribute Path&rdquo; are not saved with using TAB to move forward</li>
<li><a href="https://issues.apache.org/jira/browse/CAY-2221">CAY-2221</a> In-memory expression evaluation gives different result than select query</li>
<li><a href="https://issues.apache.org/jira/browse/CAY-2236">CAY-2236</a> Modeler Migrate DB Schema: unable to Reverse All Operations</li>
<li><a href="https://issues.apache.org/jira/browse/CAY-2238">CAY-2238</a> Modeler: Preserve manually set DbRelationship name when syncing with ObjEntity</li>
<li><a href="https://issues.apache.org/jira/browse/CAY-2242">CAY-2242</a> Vertical Inheritance: Cannot Insert Record For Implementing Class with Attribute And Relationship</li>
</ul>

                    </section>
                </article>
            </div>
        </div>
        <div class="row">
            <div class="col text-left">
                
                Next: <a href='/2017/06/cayenne-40B1-released.html'>Cayenne 4.0 Beta 1 Released</a>
                
            </div>
            <div class="col text-right">
                
                Previous: <a href='/2016/12/cayenne-40M4-released.html'>Cayenne 4.0 Milestone 4 Released</a>
                
            </div>
        </div>
    </div>

<footer class="page-footer">
    <div class="container">
        <div class="row">
            
            <div class="col">
                <h3 class="footer">About</h3>
                <ul class="list-unstyled">
                    
                    <li><a href="/why-cayenne.html" class="footer">Why Cayenne?</a>
                    
                    <li><a href="/download/" class="footer">Download</a>
                    
                    <li><a href="/success-stories.html" class="footer">Success Stories</a>
                    
                    <li><a href="/about/support/" class="footer">Support</a>
                    
                </ul>
            </div>
            
            <div class="col">
                <h3 class="footer">Documentation</h3>
                <ul class="list-unstyled">
                    
                    <li><a href="/docs/4.1/getting-started/" class="footer">Getting Started (4.1)</a>
                    
                    <li><a href="/docs/4.0/getting-started/" class="footer">Getting Started (4.0)</a>
                    
                    <li><a href="/docs/4.1/getting-started-db-first/" class="footer">Database First tutorial (4.1)</a>
                    
                </ul>
            </div>
            
            <div class="col">
                <h3 class="footer">Collaboration</h3>
                <ul class="list-unstyled">
                    
                    <li><a href="https://issues.apache.org/jira/browse/CAY" class="footer">Bug/Feature Tracker</a>
                    
                    <li><a href="/mailing-lists.html" class="footer">Mailing Lists</a>
                    
                    <li><a href="/dev/code-repository.html" class="footer">Code Repository</a>
                    
                    <li><a href="/dev/" class="footer">Developer Guide</a>
                    
                    <li><a href="/how-can-i-help.html" class="footer">How can I help?</a>
                    
                    <li><a href="/contributors.html" class="footer">Contributors</a>
                    
                </ul>
            </div>
            
            <div class="col">
                <h3 class="footer">News</h3>
                <ul class="list-unstyled">
                    
                    <li>
                        <div>
                            <small class="text-muted">Nov 20, 2017</small>
                        </div>
                        <a href="/2017/11/cayenne-312-released.html" class="footer">Cayenne 3.1.2 Released</a>
                    </li>
                    
                    <li>
                        <div>
                            <small class="text-muted">Oct 14, 2017</small>
                        </div>
                        <a href="/2017/10/cayenne-41m1-released.html" class="footer">Cayenne 4.1 Milestone 1 Released</a>
                    </li>
                    
                    <li>
                        <div>
                            <small class="text-muted">Oct 06, 2017</small>
                        </div>
                        <a href="/2017/10/cayenne-40B2-released.html" class="footer">Cayenne 4.0 Beta 2 Released</a>
                    </li>
                    
                    <li>
                        <div>
                            <small class="text-muted">Jun 12, 2017</small>
                        </div>
                        <a href="/2017/06/cayenne-40B1-released.html" class="footer">Cayenne 4.0 Beta 1 Released</a>
                    </li>
                    
                    <li>
                        <div>
                            <small class="text-muted">Mar 07, 2017</small>
                        </div>
                        <a href="/2017/03/cayenne-40M5-released.html" class="footer">Cayenne 4.0 Milestone 5 Released</a>
                    </li>
                    
                    <li><a href="http://cayenne.apache.org/news" class="footer">More news</a>
                </ul>
            </div>
        </div>
    </div>
    <hr class="footer">
    <div class="container">
        <div class="row">
            <div class="col"></div>
            <div class="col-8">
                <p class="text-center page-footer-copyright">
                    Copyright © 2001-2017 Apache Software Foundation. Apache Cayenne, Cayenne, Apache,
                    the Apache feather logo, and the Apache Cayenne project logo are trademarks of The Apache Software Foundation.
                    <a href="http://cayenne.apache.org/privacy-policy.html">Privacy policy</a>
                </p>
            </div>
            <div class="col"></div>
        </div>
    </div>
</footer>

    
    </body>
</html>
