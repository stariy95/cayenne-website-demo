<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="shortcut icon" href="/favicon.ico" />
        <link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-144-precomposed.png" sizes="144x144" />
        <link rel="stylesheet" href="http://cayenne.apache.org/css/styles-b770de6275.css"/>
        <script src="http://cayenne.apache.org/js/bundle-736b99fdc1.js"></script>
        <title>Guide to 1.1 Features &middot; Apache Cayenne</title>
    </head>
    <body>
<header class="page-header">
    <div class="container">
        <div class="row">
            <div class="col">
                <nav class="navbar navbar-dark navbar-expand-lg">
                    <a class="navbar-brand nav-link active" href="http://cayenne.apache.org/">Apache Cayenne</a>

                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>

                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav mr-auto">
                            
                            <li class="nav-item">
                                <a class="nav-link" href="/download/">DOWNLOAD</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="/docs/">DOCUMENTATION</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="/about/support/">SUPPORT</a>
                            </li>
                            
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
    </div>
</header>








<div class="container">
    <div class="row">
        <div class="col-3">
            <div role="tabpanel">
                <ul class="nav" role="tablist">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
                            Cayenne Version 3.0
                        </a>
                        <div class="dropdown-menu">
                            
                            <a class="dropdown-item" id="cayenne-4-1-tab" href="#cayenne-4-1" role="tab" data-toggle="tab" aria-controls="cayenne-4-1" aria-expanded="true">Version 4.1 (Alpha)</a>
                            <a class="dropdown-item" id="cayenne-4-0-tab" href="#cayenne-4-0" role="tab" data-toggle="tab" aria-controls="cayenne-4-0" aria-expanded="true">Version 4.0 (Beta)</a>
                            <a class="dropdown-item" id="cayenne-3-1-tab" href="#cayenne-3-1" role="tab" data-toggle="tab" aria-controls="cayenne-3-1" aria-expanded="true">Version 3.1 (Stable)</a>
                            <a class="dropdown-item" id="cayenne-3-0-tab" href="#cayenne-3-0" role="tab" data-toggle="tab" aria-controls="cayenne-3-0" aria-expanded="true">Version 3.0 (Stable)</a>
                        </div>
                    </li>
                </ul>
                <div class="tab-content" id="myTabContent">
                    
                    <div class="tab-pane fade " id="cayenne-4-1" role="tabpanel" aria-labelledby="cayenne-4-1-tab" aria-expanded="false">
                        
                        <li>
                            <h6><a href="/docs/4.1/getting-started-db-first/">Cayenne Database First tutorial</a></h6>
                        </li>
                        
                        <li>
                            <h6><a href="/docs/4.1/getting-started/">Cayenne Getting Started Guide</a></h6>
                        </li>
                        
                        <li>
                            <h6><a href="/docs/4.1/api/">JavaDoc</a></h6>
                        </li>
                    </div>
                    <div class="tab-pane fade " id="cayenne-4-0" role="tabpanel" aria-labelledby="cayenne-4-0-tab" aria-expanded="false">
                        
                        <li>
                            <h6><a href="/docs/4.0/getting-started/">Cayenne 4.0 Getting Started Guide</a></h6>
                        </li>
                        
                        <li>
                            <h6><a href="/docs/4.0/api/">JavaDoc</a></h6>
                        </li>
                    </div>
                    <div class="tab-pane fade " id="cayenne-3-1" role="tabpanel" aria-labelledby="cayenne-3-1-tab" aria-expanded="false">
                        
                        <li>
                            <h6><a href="/docs/3.1/api/">JavaDoc</a></h6>
                        </li>
                    </div>
                    <div class="tab-pane fade active show" id="cayenne-3-0" role="tabpanel" aria-labelledby="cayenne-3-0-tab" aria-expanded="true">
                        
                        <li>
                            <h6><a href="/docs/3.0/cayenne-guide.html">Cayenne Guide</a></h6>
                        </li>
                        
                        <li>
                            <h6><a href="/docs/3.0/modeler-guide.html">Modeler Guide</a></h6>
                        </li>
                        
                        <li>
                            <h6><a href="/docs/3.0/remote-object-persistence-guide.html">Remote Object Persistence Guide</a></h6>
                        </li>
                        
                        <li>
                            <h6><a href="/docs/3.0/api/">JavaDoc</a></h6>
                        </li>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-9">

            
            <article>
                <section>
                    <P>Cayenne version 1.1 introduces a large number of new features and enhancements over 1.0. This chapter lists most of them, providing the links to more detailed information about each feature.</P>

<H3><A name="Guideto1.1Features-DTDAdditions."></A>DTD Additions.</H3>

<P>&quot;cayenne.xml&quot; and &quot;*.map.xml&quot; file formats were updated to support new features. 1.1 DTD files are located here:</P>
<UL>
	<LI><A href="guide-to-11-features.data/cayenne-project-1_1.dtd">cayenne-project-1_1.dtd</A></LI>
	<LI><A href="guide-to-11-features.data/cayenne-data-map-1_2.dtd">cayenne-data-map-1_2.dtd</A></LI>
	<LI><A href="guide-to-11-features.data/cayenne-data-view-1_1.dtd">cayenne-data-view-1_1.dtd</A></LI>
	<LI><A href="guide-to-11-features.data/cayenne-driver-1_1.dtd">cayenne-driver-1_1.dtd</A></LI>
</UL>


<DIV class="panelMacro"><TABLE class="warningMacro"><COLGROUP><COL width="24"><COL></COLGROUP><TR><TD valign="top"><img src="/docs/3.0/images/forbidden.gif" width="16" height="16" align="absmiddle" alt="" border="0"></TD><TD><B>Upgrade Warning</B><BR>Saving projects with CayenneModeler v.1.1 will render them uneditable with CayenneModeler v.1.0.</TD></TR></TABLE></DIV>

<H3><A name="Guideto1.1Features-AdvancedLocalandDistributedCaching"></A>Advanced Local and Distributed Caching</H3>

<P>Cayenne now provides a way to share its object cache between DataContexts in the same JVM and across JVMs. The following chapters in the user guide describe this feature:</P>
<UL>
	<LI><A href="../doc12/object-caching.html" title="Object Caching">Object Caching</A></LI>
	<LI><A href="caching-query-results.html" title="Caching Query Results">Caching Query Results</A></LI>
	<LI><A href="caching-lookup-tables.html" title="Caching Lookup Tables">Caching Lookup Tables</A></LI>
</UL>


<H3><A name="Guideto1.1Features-OptimisticLocking"></A>Optimistic Locking</H3>

<P>ObjAttributes and ObjRelationships can be marked to be used for &quot;optimistic&quot; locking. If an corresponding columns of the underlying database row are externally modified, an attempt to save an object results in OptimisticLockingException.</P>

<H3><A name="Guideto1.1Features-DataObjectUtilsaneasywaytomapobjectsbyPK"></A>DataObjectUtils - an easy way to map objects by PK</H3>

<P><A href="dataobjectutils.html" title="DataObjectUtils">DataObjectUtils</A> is an often requested feature for easy retrieval of an object primary key, or locating an object for a known key. It works in a generic way for any type of DataObjects, even if a PK is not a class property.</P>

<H3><A name="Guideto1.1Features-EntityInheritance"></A>Entity Inheritance</H3>

<P>Cayenne now supports entity inheritance for entities rooted in the same DB table (single table inheritance).</P>

<H3><A name="Guideto1.1Features-DataViewsandDVModeler"></A>Data Views and DVModeler</H3>

<P><A href="../CAYDV/index.html" title="Index">Index</A> is a completely new addition to Cayenne. This is a framework and a Swing modeler tool to quickly build Swing applications based on Cayenne.</P>

<H3><A name="Guideto1.1Features-GenericMultithreadedandDistributedEventsMechanism"></A>Generic Multithreaded and Distributed Events Mechanism</H3>

<P>Cayenne now includes a generic <A href="event-package.html" title="Event Package">Event Package</A> &quot;org.objectstyle.cayenne.event&quot; for registering listeners and sending events, both locally and remotely. It supports both blocking and non-blocking listeners and dispatches. Supported remote transports include JMS and JavaGroups.</P>

<H3><A name="Guideto1.1Features-DataObjectsValidation"></A>DataObjects Validation</H3>

<P>DataContext now performs validation of DataObjects before committing them. There is a set of default validation checks being executed, based on the DataMap information. Developers can override DataObject validation methods to provide custom validation checks.</P>

<P>See user guide chapter on <A href="dataobject-validation.html" title="DataObject Validation">object validation</A>.</P>

<H3><A name="Guideto1.1Features-ExpressionAPIEnhancements"></A>Expression API Enhancements</H3>

<P>There is a new expression parser that allows creation of complex expressions from strings (&quot;Expression.fromString(..)&quot;). This greatly reduces the amount of code needed to build an expression.</P>

<P>In-memory evaluation API is improved, and now supports both boolean conditions (via &quot;Expression.match&quot; method) and generic expressions evaluation (via &quot;Expression.evaluate&quot; method), it also includes support for arithmetic operations.</P>
<UL>
	<LI><A href="expressions.html" title="Expressions">Expressions</A></LI>
</UL>


<H3><A name="Guideto1.1Features-SQLTemplateADynamicRawSQLQuery"></A>SQLTemplate - A Dynamic Raw SQL Query</H3>

<P>SQLTemplate replaces SqlSelectQuery and SqlModifyQuery and is a scriptable parameterized raw SQL query. It supports DataObjects and other features declared in GenericSelectQuery interface.</P>
<UL>
	<LI><A href="sqltemplate-query.html" title="SQLTemplate Query">SQLTemplate Query</A></LI>
	<LI><A href="scripting-sqltemplate.html" title="Scripting SQLTemplate">Scripting SQLTemplate</A></LI>
</UL>


<H3><A name="Guideto1.1Features-DataContextAPIforRunningParameterizedNamedQueries"></A>DataContext API for Running Parameterized Named Queries</H3>

<P>DataContext now provides simple API to run SelectQuery, SQLTemplate and ProcedureQuery by name if such queries are mapped via CayenneModeler:</P>
<UL>
	<LI><A href="datacontext.html" title="DataContext">DataContext Query API Overview</A></LI>
</UL>


<H3><A name="Guideto1.1Features-SupportforSharedMappingNamespace"></A>Support for Shared Mapping Namespace</H3>

<P>DataDomain now provides a shared mapping namespace. This means that all mapping objects can reference other mapping objects outside their DataMaps. For example two DbEntities can be located in different DataMaps and still have relationships to each other.</P>

<P>Temporary limitation of the shared mapping namespace is that Queries stored in the DataMap can't have a &quot;root&quot; from a different DataMap.</P>

<H3><A name="Guideto1.1Features-SnapshotEvents"></A>SnapshotEvents</H3>


<H3><A name="Guideto1.1Features-DataContextDelegate"></A>DataContextDelegate</H3>


<H3><A name="Guideto1.1Features-EntityRestrictingQualifier"></A>Entity Restricting Qualifier</H3>

<P>ObjEntities now can hold a qualifier expression that is automatically appended to any query qualifiers, thus creating a global data filter for a given entity. This feature is used for inheritance mapping, however it has nothing to do with inheritance as such and can be used all by itself.</P>

<H3><A name="Guideto1.1Features-ExplicitTransactionAPIandContainerManagedTransactions"></A>Explicit Transaction API and Container Managed Transactions</H3>

<P>Cayenne now supports container-managed transactions. As a result it can be used inside EJBs out of the box. It also allows a high degree of transactions customization. The following user guide chapter explains Transactions design and behavior in details:</P>
<UL>
	<LI><A href="design.html#Design-CayenneTransactions">Understanding Transactions</A></LI>
</UL>


<H3><A name="Guideto1.1Features-VariousPerformanceEnhancements"></A>Various Performance Enhancements</H3>

<UL>
	<LI>Lazy Relationship Creation - when new objects are fetched, their relationships are not initialized immediately; a Fault singleton is used isntead as a placeholder. Of course in the past Cayenne also had &quot;lazy&quot; relationships, meaning that they didn't get resolved via a DB query until accessed. Current optimization goes further - it prevents a number of Java objects (such as empty Lists for to-many relationship, or &quot;hollow&quot; DataObjects for to-ones) from being created until absolutely necessary.</LI>
	<LI>To-many relationships do not have to be fully resolved on modification - if an unresolved to-many relationship is modified (i.e. an object is added or removed from it), it is not resolved until the next &quot;read&quot; (i.e. until a call to &quot;size()&quot; or &quot;iterator()&quot; method). This is especially helpful with bi-directional one-to-many relationships. E.g. &quot;painting.addToArtist(artist)&quot; used to trigger the fetch of all paintings that belong to an artist. Not anymore.</LI>
</UL>


<H3><A name="Guideto1.1Features-MoreDatabasesHaveCustomDbAdapters"></A>More Databases Have Custom DbAdapters</H3>

<P>Cayenne features new database adapters:</P>
<UL>
	<LI>OpenBase Adapter</LI>
	<LI>MS SQL Server Adapter</LI>
</UL>


<H3><A name="Guideto1.1Features-SupportforToOneRelationshipsNotPointingtoaPK."></A>Support for To-One Relationships Not Pointing to a PK.</H3>

<P>Added support for one-to-one relationships between PK and non-PK columns of related tables. In the past this could only be modeled as one-to-many. CayenneModeler will create UNIQUE constraint for a non-PK columns during schema generation.</P>

<H3><A name="Guideto1.1Features-SupportforQueriesinDataMapDTD."></A>Support for Queries in DataMap DTD.</H3>

<P>Queries are made first-class mapping objects. They can be modeled in CayenneModeler and stored in DataMaps. Application code can then reuse such queries.</P>
<UL>
	<LI><A href="modeling-queries.html" title="Modeling Queries">Modeling Queries</A></LI>
</UL>


<H3><A name="Guideto1.1Features-NonrefreshingSelectQueries"></A>Non-refreshing Select Queries</H3>


<H3><A name="Guideto1.1Features-CayenneModelerEnhancements."></A>CayenneModeler Enhancements.</H3>

<P>The following is an incomplete list of enhancements: new professional look and feel, preference engine, reenginnering of stored procedures, local DataSources, configurable locations of JDBC drivers, custom class generation templates, etc. A number of Modeler tasks and dialogs have been redesigned and improved to be more user-friendly and consistent.</P>

<P>Also CayenneModeler supports mapping of all the new 1.1 framework features, such as DataMap queries, cache synchronization configuration, etc.</P>

                </section>
            </article>

        </div>
    </div>
</div>

<footer class="page-footer">
    <div class="container">
        <div class="row">
            
            <div class="col">
                <h3 class="footer">About</h3>
                <ul class="list-unstyled">
                    
                    <li><a href="/why-cayenne.html" class="footer">Why Cayenne?</a>
                    
                    <li><a href="/download/" class="footer">Download</a>
                    
                    <li><a href="/success-stories.html" class="footer">Success Stories</a>
                    
                    <li><a href="/about/support/" class="footer">Support</a>
                    
                </ul>
            </div>
            
            <div class="col">
                <h3 class="footer">Documentation</h3>
                <ul class="list-unstyled">
                    
                    <li><a href="/docs/4.1/getting-started/" class="footer">Getting Started (4.1)</a>
                    
                    <li><a href="/docs/4.0/getting-started/" class="footer">Getting Started (4.0)</a>
                    
                    <li><a href="/docs/4.1/getting-started-db-first/" class="footer">Database First tutorial (4.1)</a>
                    
                </ul>
            </div>
            
            <div class="col">
                <h3 class="footer">Collaboration</h3>
                <ul class="list-unstyled">
                    
                    <li><a href="https://issues.apache.org/jira/browse/CAY" class="footer">Bug/Feature Tracker</a>
                    
                    <li><a href="/mailing-lists.html" class="footer">Mailing Lists</a>
                    
                    <li><a href="/dev/code-repository.html" class="footer">Code Repository</a>
                    
                    <li><a href="/dev/" class="footer">Developer Guide</a>
                    
                    <li><a href="/how-can-i-help.html" class="footer">How can I help?</a>
                    
                    <li><a href="/contributors.html" class="footer">Contributors</a>
                    
                </ul>
            </div>
            
            <div class="col">
                <h3 class="footer">News</h3>
                <ul class="list-unstyled">
                    
                    <li>
                        <div>
                            <small class="text-muted">Nov 20, 2017</small>
                        </div>
                        <a href="/2017/11/cayenne-312-released.html" class="footer">Cayenne 3.1.2 Released</a>
                    </li>
                    
                    <li>
                        <div>
                            <small class="text-muted">Oct 14, 2017</small>
                        </div>
                        <a href="/2017/10/cayenne-41m1-released.html" class="footer">Cayenne 4.1 Milestone 1 Released</a>
                    </li>
                    
                    <li>
                        <div>
                            <small class="text-muted">Oct 06, 2017</small>
                        </div>
                        <a href="/2017/10/cayenne-40B2-released.html" class="footer">Cayenne 4.0 Beta 2 Released</a>
                    </li>
                    
                    <li>
                        <div>
                            <small class="text-muted">Jun 12, 2017</small>
                        </div>
                        <a href="/2017/06/cayenne-40B1-released.html" class="footer">Cayenne 4.0 Beta 1 Released</a>
                    </li>
                    
                    <li>
                        <div>
                            <small class="text-muted">Mar 07, 2017</small>
                        </div>
                        <a href="/2017/03/cayenne-40M5-released.html" class="footer">Cayenne 4.0 Milestone 5 Released</a>
                    </li>
                    
                    <li><a href="http://cayenne.apache.org/news" class="footer">More news</a>
                </ul>
            </div>
        </div>
    </div>
    <hr class="footer">
    <div class="container">
        <div class="row">
            <div class="col"></div>
            <div class="col-8">
                <p class="text-center page-footer-copyright">
                    Copyright © 2001-2017 Apache Software Foundation. Apache Cayenne, Cayenne, Apache,
                    the Apache feather logo, and the Apache Cayenne project logo are trademarks of The Apache Software Foundation.
                    <a href="http://cayenne.apache.org/privacy-policy.html">Privacy policy</a>
                </p>
            </div>
            <div class="col"></div>
        </div>
    </div>
</footer>

    
    </body>
</html>
